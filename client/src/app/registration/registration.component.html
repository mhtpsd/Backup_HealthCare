
<div class="vh-80 d-flex justify-content-center align-items-center background-color">
  <div class="container">
      <div class="row d-flex justify-content-center align-items-center">
        <div class="col-12 col-md-8 col-lg-6">
          <!-- <div class="border border-3 border-primary"></div> -->
          <div class="card ">
            <div class="card-body p-5">
  
              <form class="" [formGroup]="itemForm" (ngSubmit)="onRegister()">
                <h6 class="fw-bold mb-1 text-uppercase text-center">Healthcare Appointment Management System</h6>
                <p class=" text-center">Please enter your details here</p>
                <div class="">
                  <label for="username" class="form-label">Username</label>
                  <input 
    type="text" 
    name="username" 
    formControlName="username" 
    class="form-control" 
    id="username" 
    placeholder="Username">

<div *ngIf="itemForm.get('username')?.touched" class="ng-dirty">
    <!-- Show "Please Enter Username." only if the field is invalid and does not have the 'negativeValue' error -->
    <div *ngIf="itemForm.get('username')?.invalid && !itemForm.get('username')?.hasError('negativeValue')" class="error-message">
        <span class="text-danger">Please Enter Username.</span>
    </div>
    <!-- Show "Existing User!" if the 'negativeValue' error is present -->
    <div *ngIf="itemForm.get('username')?.hasError('negativeValue')" class="error-message">
        <span class="text-danger">Existing User!</span>
    </div>
</div>
                </div>
                
  
                <div class="">
                  <label for="email" class="form-label">Email address</label>
                  <input 
                      type="email" 
                      name="email" 
                      formControlName="email" 
                      class="form-control" 
                      id="email" 
                      placeholder="name@example.com">
                  
                  <div *ngIf="itemForm.get('email')?.touched" class="ng-dirty">
                      <!-- Show "Please Enter email." only if the field is empty -->
                      <span class="text-danger" *ngIf="itemForm.get('email')?.errors?.['required']">Please Enter email.</span>
                      
                      <!-- Show "Not a valid Email" only if the email format is invalid -->
                      <span class="text-danger" *ngIf="itemForm.get('email')?.errors?.['email']">Not a valid Email</span>
                  </div>
              </div>
              
  
                <div class="">
                  <label for="password" class="form-label">Password</label>
                  <input 
                      type="password" 
                      name="password" 
                      formControlName="password" 
                      class="form-control" 
                      id="password" 
                      placeholder="*******">
                  
                  <div *ngIf="itemForm.get('password')?.touched" class="ng-dirty">
                      <!-- Show "Please Enter password." only if the field is empty -->
                      <span class="text-danger" *ngIf="itemForm.get('password')?.errors?.['required']">Please Enter password.</span>
                      
                      <!-- Show "Password must be Valid!" if the password doesn't meet validation criteria -->
                      <span class="text-danger" *ngIf="itemForm.get('password')?.errors && !itemForm.get('password')?.errors?.['required']">Password must be Valid!</span>
                  </div>
              </div>              
  
                <div class="mb-3">
                  <label for="role" class="form-label">Role</label>
                  <select class="form-control" formControlName="role">
                    <option value="null">Choose Role</option>
                    <option value="PATIENT">PATIENT</option>
                    <option value="DOCTOR">DOCTOR</option>
                    <option value="RECEPTIONIST">RECEPTIONIST</option>
                  </select>
                  <div *ngIf="itemForm.get('role')?.invalid && (itemForm.get('role')?.dirty || itemForm.get('role')?.touched)" class="ng-dirty">
                    <span class="text-danger">Please choose a role.</span>
                  </div>
                </div>
  
                <div class="mb-3" *ngIf="itemForm.get('role')?.value === 'DOCTOR'">
                  <label for="availability" class="form-label">Availability</label>
                  <select class="form-control" formControlName="availability">
                    <option value="null">Choose Availability</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>            
                  </select>
                  <div *ngIf="itemForm.get('availability')?.invalid && (itemForm.get('availability')?.dirty || itemForm.get('availability')?.touched)" class="ng-dirty">
                    <span class="text-danger">Please Enter Availability.</span>
                  </div>
                </div>
  
                <div class="mb-3" *ngIf="itemForm.get('role')?.value === 'DOCTOR'">
                  <label for="specialty" class="form-label">Specialty</label>
                  <input type="text" name="specialty" formControlName="specialty" class="form-control" id="specialty" placeholder="Specialty">
                  <div *ngIf="itemForm.get('specialty')?.invalid && (itemForm.get('specialty')?.dirty || itemForm.get('specialty')?.touched)" class="ng-dirty">
                    <span class="text-danger">Please Enter Specialty.</span>
                  </div>
                </div>
  
                <div class="mb-3 d-grid">
                  <button type="submit" class="btn custom-submit-btn" style="background-color: rgb(48, 134, 134);">Submit</button>
                </div>
              </form>
  
              <div>
                <p class="mb-0 text-center"> <a [routerLink]="['/login']" class="text-black fw-bold">Go to Login</a></p>
              </div>
  
              <div *ngIf="showMessage" class="alert alert-success mt-4" role="alert">
                {{ responseMessage }}
              </div>
  
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  